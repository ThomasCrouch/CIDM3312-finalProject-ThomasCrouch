@page
@model CIDM3312_finalProject_ThomasCrouch.Pages.Prisons.DetailsModel

@{
    ViewData["Title"] = "Details";
}

<h1>List of Prisoners in @Html.DisplayFor(model => model.Prison.PrisonName)</h1>
    
    <hr>

    @foreach (var p in Model.Prison.Prisoners)
    {
        <dd class="col-sm-10">
            <strong>Prisoner - </strong>@Html.DisplayNameFor(model => p.PrisonerName): @Html.DisplayFor(model => p.PrisonerName), @Html.DisplayNameFor(model => p.ConvictedCrimes): @Html.DisplayFor(model => p.ConvictedCrimes), @Html.DisplayNameFor(model => p.DateOfRelease): @Html.DisplayFor(model => p.DateOfRelease)
            <form method="post">
                <input type="hidden" asp-for="PrisonerIDToRelease" value="@p.PrisonerID" />
                <input type="submit" asp-page-handler="ReleasePrisoner" asp-route-id="@Model.Prison.PrisonID" value="Release Prisoner" class="btn btn-danger btn-sm" />
            </form>
        </dd>
    }
<div>
    <a asp-page="./Index">Back to List</a>
</div>
